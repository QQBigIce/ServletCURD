<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>search'</title>
    <script src="https://code.jquery.com/jquery-3.4.1.js"
            integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
    <style>
        table {
            border-collapse: collapse;
        }

        table td {
            width: 80px;
            height: 30px;
            text-align: center;
        }
    </style>

</head>
<body>
<div align="center">
    <button id="search">查询</button>
    <table border="1">
        <tr>
            <td>id</td>
            <td>名称</td>
            <td>血量</td>
            <td>护甲</td>
            <td>删除</td>
        </tr>
        <tbody id="tbody">

        </tbody>
    </table>
</div>

<script type="text/javascript">
    $(function () {
        var url = "search";
        $("#search").click(function () {
            $.get(
                url,
                function (data) {
                    var json = JSON.parse(data);
                    var s = new String();
                    for (var i in json) {
                        s += "<tr>";
                        s += ("<td>" + json[i].id + "</td>");
                        s += ("<td>" + json[i].name + "</td>");
                        s += ("<td>" + json[i].hp + "</td>");
                        s += ("<td>" + json[i].damage + "</td>");
                        s += ("<td> <input class='buttons' type='button' value='删除' id='delete?id=" + json[i].id + "'></td>");
                        s += "</tr>";
                    }
                    $("#tbody").html(s);
                });
        });
        $("tbody").on('click', 'input', function () {
            url = $(this).attr("id");
            $.get(
                url
            );
            $(this).parent().parent().remove();
        });
    });


</script>
</body>
</html>